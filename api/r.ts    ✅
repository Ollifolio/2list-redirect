// /api/r.ts — Vanilla Vercel Edge Function
export const config = { runtime: 'edge' };

export default async function handler(req: Request) {
  const url = new URL(req.url);
  const target = url.searchParams.get('u');

  if (!target) {
    return new Response('Missing param: u', { status: 400 });
  }

  // optional, damit du in den Logs etwas siehst
  // (Vercel → Logs)
  console.log('Redirecting to:', target);

  // 302 Weiterleitung zum Ziel
  return new Response(null, {
    status: 302,
    headers: { Location: target },
  });
}
